# web-logger-server

This server end is written by Node.js with pure Koa2. You can just refer to [Koa2](https://koajs.com/) for help.

## Introduction

This repository contains the server end program for web-logger, which is an inference system to steal mobile users' frontend input from inertial sensor readings generated by keystroke events.

## Dependency

```bash
chalk:          ^2.4.2
koa:            ^2.6.2
koa-router:     ^7.4.0
koa2-cors:      ^2.0.6
mongoose:       ^5.4.2
socket.io:      ^2.2.0
ua-parser-js:   ^0.7.19
```

## Build and Deployment
- Node and npm needed
- MongoDB needed
- Download this repository to your own device
    ```bash
    $ git clone git@github.com:wurahara/weblogger-server.git
    $ cd weblogger-server
    ```
- Configure the server and database parameters by modifying `/config/config.js`
    ```JavaScript
    module.exports = {
        port: process.env.PORT || 1120,
        database: {
            host: 'your database host',
            port: 'your database port',
            dbname: 'the name of this database'
        }
    }
    ```
- Configure your mongoDB database corresponding to the settings above
- Install all the dependencies needed
    ```bash
    $ npm install
    ```
- Initialize your database and insert the PIN sequence to build the Pin collection
    ```bash
    $ npm run initdb [pinAmount] [pinLength]
    ```
- Run the following command to start the server
    ```bash
    $ npm run start
    ```
- The server will be started and continuously listening to port `1120` by default

## Acknowledgement

This repository is designed to refactor the [sensor-server](https://github.com/qhdong/sensor-server) library written by Mr. Qihong Dong. Some of the libraries used by [sensor-server](https://github.com/qhdong/sensor-server) have not been mantained for a long time, which make it difficult to run that program properly. For the convenience of latecomers and the inheritance of the laboratory, the basic functions are refactored with [Koa2](https://koajs.com/). This repository is only available to researchers of Lab 6316 of Southeast University in principle. For other requirements, please contact [Yubo Song](mailto:songyubo@seu.edu.cn) or [Rui Song](mailto:songrui@seu.edu.cn). Thank you for your cooperation.

## License

This repository is released under [GPL-3.0](https://github.com/wurahara/weblogger-server/blob/master/LICENSE) licence.
Copyright Â© [Rui Song](https://github.com/wurahara).